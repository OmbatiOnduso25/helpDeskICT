<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Report ICT Issue</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
    <h2 class="mb-4">Report ICT Support Issue</h2>
    <form method="POST" action="/submit-issue">

        <!-- Room -->
        <div class="mb-3">
            <label for="room" class="form-label">Room Number</label>
            <input type="text" class="form-control" id="room" name="room" required>
        </div>

        <!-- Accordion for issues -->
        <div class="accordion mb-3" id="issueAccordion">

            <!-- Example Group Template -->
            {% macro issue_group(id, title, issues) %}
            <div class="accordion-item">
                <h2 class="accordion-header" id="heading-{{ id }}">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapse-{{ id }}" aria-expanded="false" aria-controls="collapse-{{ id }}">
                        {{ title }}
                    </button>
                </h2>
                <div id="collapse-{{ id }}" class="accordion-collapse collapse" aria-labelledby="heading-{{ id }}"
                        data-bs-parent="#issueAccordion">
                    <div class="accordion-body">
                        {% for issue in issues %}
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="issues" value="{{ issue }}"
                                    id="{{ issue|replace(' ', '_') }}">
                            <label class="form-check-label" for="{{ issue|replace(' ', '_') }}">{{ issue }}</label>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endmacro %}

            <!-- Issue Groups -->
            {{ issue_group('network', ' Network & Connectivity', [
                "No internet access", "Slow internet connection", "Cannot connect to WiFi",
                "LAN port not working", "IP conflict detected", "Network cable issue"]) }}

            {{ issue_group('printing', ' Printing & Scanning', [
                "Printer not working", "Printer out of paper/ink", "Cannot print from my PC",
                "Scanner not responding", "Print queue stuck"]) }}

            {{ issue_group('computer', ' Computer Issues', [
                "Computer wonâ€™t start", "Slow performance", "Frequent freezing/crashing",
                "Blue screen (BSOD)", "Unexpected restart", "Overheating"]) }}

            {{ issue_group('software', ' Software & Applications', [
                "Application not launching", "License/activation issue", "Error when opening software",
                "Software update needed", "Microsoft Office problems", "Antivirus issue"]) }}

            {{ issue_group('login', ' Login & Authentication', [
                "Forgot password", "Cannot log in to system", "Account locked",
                "Two-factor authentication issue", "Email access issue"]) }}

            {{ issue_group('file', ' File & Storage', [
                "Unable to access shared folder", "File deleted or missing",
                "Low disk space warning", "Backup failed"]) }}

            {{ issue_group('hardware', ' Hardware & Peripherals', [
                "Mouse/keyboard not working", "Monitor/display issue", "USB ports not detecting devices",
                "Projector/display not working", "Audio not working (no sound)", "Webcam not working"]) }}

            {{ issue_group('comm', ' Communication Tools', [
                "Zoom/Teams not working", "Mic not detected", "Camera not working in meetings",
                "Can't join online class/meeting"]) }}

            {{ issue_group('web', ' Web & Online Services', [
                "Website not opening", "VPN not connecting", "Proxy/server settings issue",
                "Online form or portal not loading"]) }}

            {{ issue_group('other', ' Other Requests', [
                "Request new hardware", "Request software installation", "General ICT enquiry"]) }}

        </div>

        <!-- Other free-text -->
        <div class="mb-3">
            <label class="form-label">Other (please specify)</label>
            <input type="text" class="form-control" name="other_issue">
        </div>

        <!-- Details -->
        <div class="mb-3">
            <label for="details" class="form-label">Additional Details</label>
            <textarea class="form-control" id="details" name="details" rows="4" placeholder="Provide more information..."></textarea>
        </div>

        <button type="submit" class="btn btn-primary">Submit Issue</button>
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
